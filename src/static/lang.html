<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content='width="device-width,initial-scale=1.0"' />
    <title>lang</title>
  </head>
  <body>
    <select>
      <option>EN</option>
      <option>CN</option>
    </select>
    <h1 id="lines-of-code-counter">0</h1>
    <script>
      const vscode = acquireVsCodeApi();
      const counter = document.getElementById("lines-of-code-counter");

      let count = 0;
      const timer = setInterval(() => {
        counter.textContent = count++;
        if (Math.random() < 0.001 * count) {
          vscode.postMessage({
            command: "alert",
            text: 'ðŸ›  on line ' + count
          });
        }
      }, 100);

      window.addEventListener("message", event => {
        const message = event.data; // The JSON data our extension sent
        switch (message.command) {
          case "refactor":
            count = Math.ceil(count * 0.5);
            counter.textContent = count;
            break;
        }
      });
    </script>
  </body>
</html>
